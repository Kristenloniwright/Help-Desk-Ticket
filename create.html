<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Create Ticket</title>
      <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  
  <!--Font Awesome-->
  <script src="https://kit.fontawesome.com/9b65805e54.js" crossorigin="anonymous"></script>

</head>
<body>
   <section class="vh-100">
      <div class="container-fluid">
         <!--Main Navigation-->
         <header>
            <!-- Sidebar -->
            <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
              <div class="position-sticky">
                <div class="list-group list-group-flush mx-3 mt-4">
                  <a href="#" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>Main dashboard</span>
                  </a>
                  <a href="#" class="list-group-item list-group-item-action py-2 ripple active">
                    <i class="fas fa-chart-area fa-fw me-3"></i><span>Create Ticket</span>
                  </a>
                  <a href="#" class="list-group-item list-group-item-action py-2 ripple"><i
                      class="fas fa-lock fa-fw me-3"></i><span>View Tickets</span></a>
                  <a href="#" class="list-group-item list-group-item-action py-2 ripple"><i
                      class="fas fa-chart-line fa-fw me-3"></i><span>Analytics</span></a>
                  <a href="#" class="list-group-item list-group-item-action py-2 ripple">
                    <i class="fas fa-chart-pie fa-fw me-3"></i><span>SEO</span>
                  </a>
                  
                </div>
              </div>
            </nav>
            <!-- Sidebar -->

            <!-- Navbar -->
            <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
              <!-- Container wrapper -->
              <div class="container-fluid">
              

                <!-- Brand-->
                <a class="navbar-brand" href="#">
                  <img src="https://mdbcdn.b-cdn.net/img/logo/mdb-transaprent-noshadows.webp" height="25" alt="MDB Logo"
                    loading="lazy" />
                </a>
                <!-- Right links -->
                <ul class="right-nav navbar-nav ms-auto d-flex flex-row">

                  <!-- Icon dropdown -->
                      <li>
                        <a class="create-tick btn btn-primary btn-block mb-4" href="#">Create New Ticket</a>
                      </li>
                      <li>
                        <a class="mail" href="#" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Private Message"><i class="fa-lg fa-solid fa-envelope"></i></i></a>
                      </li>
                    </ul>
                </ul>
              </div>
              <!-- Container wrapper -->
            </nav>
            <!-- Navbar -->
          </header>
          <!--Main Navigation-->

          <!--Main layout-->
          <main style="margin-top: 58px;">
            <div class="container pt-4">
               <div class="table table-sm container" >
                  <h1 class="ticket-heading display-4">Create a Ticket</h1>
                  <form class="ticket-form">
                     <!-- 2 column grid layout with text inputs for the first and last names -->
             
                   
                         <div class="form-outline mb-2">
                           <input type="text" id="fullname" class="form-control" placeholder="Full Name"/>
                         </div>
                    
                     
                   
                     <!-- Email input -->
                     <div class="form-outline mb-2">
                       <input type="email" id="email" class="form-control" placeholder="Email Address" />
                     </div>
                   
                      <!-- Department input -->
                      <div class="form-outline mb-2">
                        <input type="text" id="department" class="form-control" placeholder="Department" />
                      </div>

                     <!-- Subject input -->
                     <div class="form-outline mb-4">
                       <input type="type" id="subject" class="form-control" placeholder="Subject" />
                     </div>
                   
                     <!-- Message input -->
                     <div class="form-outline mb-4">
                       <textarea class="form-control" id="issue" rows="4" placeholder="Ticket Description"></textarea>
                     </div>
                     
                         
                     <!-- Submit button -->
                     <button type="submit" class="btn btn-primary btn-block mb-4" id="submit">Submit</button>
                   </form>
               </div>
            </div>
          </main>
          <!--Main layout-->
          
      </div>
   </section>

</body>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
  import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAKtJibiy8I73xxMhXAcDeJBrlYROzEN2I",
    authDomain: "ticketsystem-60967.firebaseapp.com",
    databaseURL: "https://ticketsystem-60967-default-rtdb.firebaseio.com",
    projectId: "ticketsystem-60967",
    storageBucket: "ticketsystem-60967.appspot.com",
    messagingSenderId: "23198086031",
    appId: "1:23198086031:web:0fc63462458fcae8ee91fa"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);

  //When User Clicks submit events will occur
  submit.addEventListener('click', (e) =>{

    // get the user values which the user type
    var fullname = document.getElementById('fullname').value;
    var email = document.getElementById('email').value;
    var department = document.getElementById('department').value;
    var subject = document.getElementById('subject').value;
    var issue = document.getElementById('issue').value;

    function writeUserData(userId, fullname, email, department) {
  const db = getDatabase();

  set(ref(db, 'tickets/' + userId), {
      Fullname: fullname,
        Email: email,
        Department: department,
        Subject: subject,
        Issue: issue
  });
}


   


  });

</script>


</html>
